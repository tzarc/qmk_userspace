################################################################################################################################################################
# Generated files

QMK_BIN := ../../bin/qmk
USER_PATH := .
GENERATED_OUTPUT := ./src

all: generated-files

clean:
	rm -rf "$(GENERATED_OUTPUT)"

distclean: clean

################################################################################################################################################################
# Fonts

generated-files: $(GENERATED_OUTPUT)/balthasar.h

$(GENERATED_OUTPUT)/balthasar.png: $(USER_PATH)/Makefile $(USER_PATH)/BalthasarRegularNbp-va6O.ttf
	@[ -d "$(GENERATED_OUTPUT)" ] || mkdir -p "$(GENERATED_OUTPUT)"
	$(QMK_BIN) painter-make-font-image --font $(USER_PATH)/BalthasarRegularNbp-va6O.ttf --size 16 -o $(GENERATED_OUTPUT)/balthasar.png

$(GENERATED_OUTPUT)/balthasar.h: $(GENERATED_OUTPUT)/balthasar.png
	@[ -d "$(GENERATED_OUTPUT)" ] || mkdir -p "$(GENERATED_OUTPUT)"
	$(QMK_BIN) painter-convert-font-image --input $(GENERATED_OUTPUT)/balthasar.png -f mono2

generated-files: $(GENERATED_OUTPUT)/epilepsysansbold.h

$(GENERATED_OUTPUT)/epilepsysansbold.png: $(USER_PATH)/Makefile $(USER_PATH)/EpilepsySansBold-o0W4.ttf
	@[ -d "$(GENERATED_OUTPUT)" ] || mkdir -p "$(GENERATED_OUTPUT)"
	$(QMK_BIN) painter-make-font-image --font $(USER_PATH)/EpilepsySansBold-o0W4.ttf --size 13 -o $(GENERATED_OUTPUT)/epilepsysansbold.png

$(GENERATED_OUTPUT)/epilepsysansbold.h: $(GENERATED_OUTPUT)/epilepsysansbold.png
	@[ -d "$(GENERATED_OUTPUT)" ] || mkdir -p "$(GENERATED_OUTPUT)"
	$(QMK_BIN) painter-convert-font-image --input $(GENERATED_OUTPUT)/epilepsysansbold.png -f mono4

generated-files: $(GENERATED_OUTPUT)/noto11.h

$(GENERATED_OUTPUT)/noto11.png: $(USER_PATH)/Makefile $(USER_PATH)/NotoSans-ExtraCondensedBold.ttf
	@[ -d "$(GENERATED_OUTPUT)" ] || mkdir -p "$(GENERATED_OUTPUT)"
	$(QMK_BIN) painter-make-font-image --font $(USER_PATH)/NotoSans-ExtraCondensedBold.ttf --size 11 -o $(GENERATED_OUTPUT)/noto11.png --unicode-glyphs "ĄȽɂɻɣɈʣ"

$(GENERATED_OUTPUT)/noto11.h: $(GENERATED_OUTPUT)/noto11.png
	@[ -d "$(GENERATED_OUTPUT)" ] || mkdir -p "$(GENERATED_OUTPUT)"
	$(QMK_BIN) painter-convert-font-image --input $(GENERATED_OUTPUT)/noto11.png -f mono4 --unicode-glyphs "ĄȽɂɻɣɈʣ"

generated-files: $(GENERATED_OUTPUT)/noto16.h

$(GENERATED_OUTPUT)/noto16.png: $(USER_PATH)/Makefile $(USER_PATH)/NotoSans-ExtraCondensedBold.ttf
	@[ -d "$(GENERATED_OUTPUT)" ] || mkdir -p "$(GENERATED_OUTPUT)"
	$(QMK_BIN) painter-make-font-image --font $(USER_PATH)/NotoSans-ExtraCondensedBold.ttf --size 16 -o $(GENERATED_OUTPUT)/noto16.png --unicode-glyphs "ĄȽɂɻɣɈʣ"

$(GENERATED_OUTPUT)/noto16.h: $(GENERATED_OUTPUT)/noto16.png
	@[ -d "$(GENERATED_OUTPUT)" ] || mkdir -p "$(GENERATED_OUTPUT)"
	$(QMK_BIN) painter-convert-font-image --input $(GENERATED_OUTPUT)/noto16.png -f mono4 --unicode-glyphs "ĄȽɂɻɣɈʣ"

generated-files: $(GENERATED_OUTPUT)/noto28.h

$(GENERATED_OUTPUT)/noto28.png: $(USER_PATH)/Makefile $(USER_PATH)/NotoSans-ExtraCondensedBold.ttf
	@[ -d "$(GENERATED_OUTPUT)" ] || mkdir -p "$(GENERATED_OUTPUT)"
	$(QMK_BIN) painter-make-font-image --font $(USER_PATH)/NotoSans-ExtraCondensedBold.ttf --size 28 -o $(GENERATED_OUTPUT)/noto28.png --unicode-glyphs "ĄȽɂɻɣɈʣ"

$(GENERATED_OUTPUT)/noto28.h: $(GENERATED_OUTPUT)/noto28.png
	@[ -d "$(GENERATED_OUTPUT)" ] || mkdir -p "$(GENERATED_OUTPUT)"
	$(QMK_BIN) painter-convert-font-image --input $(GENERATED_OUTPUT)/noto28.png -f mono4 --unicode-glyphs "ĄȽɂɻɣɈʣ"

generated-files: $(GENERATED_OUTPUT)/redalert13.h

$(GENERATED_OUTPUT)/redalert13.png: $(USER_PATH)/Makefile $(USER_PATH)/CandC-Red-Alert-LAN.ttf
	@[ -d "$(GENERATED_OUTPUT)" ] || mkdir -p "$(GENERATED_OUTPUT)"
	$(QMK_BIN) painter-make-font-image --font $(USER_PATH)/CandC-Red-Alert-LAN.ttf --size 13 -o $(GENERATED_OUTPUT)/redalert13.png

$(GENERATED_OUTPUT)/redalert13.h: $(GENERATED_OUTPUT)/redalert13.png
	@[ -d "$(GENERATED_OUTPUT)" ] || mkdir -p "$(GENERATED_OUTPUT)"
	$(QMK_BIN) painter-convert-font-image --input $(GENERATED_OUTPUT)/redalert13.png -f mono2

generated-files: $(GENERATED_OUTPUT)/minecraftia8.h

$(GENERATED_OUTPUT)/minecraftia8.png: $(USER_PATH)/Makefile $(USER_PATH)/Minecraftia-Regular.ttf
	@[ -d "$(GENERATED_OUTPUT)" ] || mkdir -p "$(GENERATED_OUTPUT)"
	$(QMK_BIN) painter-make-font-image --font $(USER_PATH)/Minecraftia-Regular.ttf --size 8 -o $(GENERATED_OUTPUT)/minecraftia8.png

$(GENERATED_OUTPUT)/minecraftia8.h: $(GENERATED_OUTPUT)/minecraftia8.png
	@[ -d "$(GENERATED_OUTPUT)" ] || mkdir -p "$(GENERATED_OUTPUT)"
	$(QMK_BIN) painter-convert-font-image --input $(GENERATED_OUTPUT)/minecraftia8.png -f mono2

generated-files: $(GENERATED_OUTPUT)/thintel15.h

$(GENERATED_OUTPUT)/thintel15.png: $(USER_PATH)/Makefile $(USER_PATH)/Thintel.ttf
	@[ -d "$(GENERATED_OUTPUT)" ] || mkdir -p "$(GENERATED_OUTPUT)"
	$(QMK_BIN) painter-make-font-image --font $(USER_PATH)/Thintel.ttf --size 15 -o $(GENERATED_OUTPUT)/thintel15.png

$(GENERATED_OUTPUT)/thintel15.h: $(GENERATED_OUTPUT)/thintel15.png
	@[ -d "$(GENERATED_OUTPUT)" ] || mkdir -p "$(GENERATED_OUTPUT)"
	$(QMK_BIN) painter-convert-font-image --input $(GENERATED_OUTPUT)/thintel15.png -f mono2

generated-files: $(GENERATED_OUTPUT)/hannover23.h

$(GENERATED_OUTPUT)/hannover23.png: $(USER_PATH)/Makefile $(USER_PATH)/HannoverMesseSans-dewK.ttf
	@[ -d "$(GENERATED_OUTPUT)" ] || mkdir -p "$(GENERATED_OUTPUT)"
	$(QMK_BIN) painter-make-font-image --font $(USER_PATH)/HannoverMesseSans-dewK.ttf --size 23 -o $(GENERATED_OUTPUT)/hannover23.png

$(GENERATED_OUTPUT)/hannover23.h: $(GENERATED_OUTPUT)/hannover23.png
	@[ -d "$(GENERATED_OUTPUT)" ] || mkdir -p "$(GENERATED_OUTPUT)"
	$(QMK_BIN) painter-convert-font-image --input $(GENERATED_OUTPUT)/hannover23.png -f mono2

################################################################################################################################################################
# Key lock images

LOCK_IMAGE_FORMAT := mono4

generated-files: $(GENERATED_OUTPUT)/lock-caps-ON.h $(GENERATED_OUTPUT)/lock-caps-OFF.h

$(GENERATED_OUTPUT)/lock-caps-ON.h: $(USER_PATH)/Makefile $(USER_PATH)/lock-caps-ON.png
	@[ -d "$(GENERATED_OUTPUT)" ] || mkdir -p "$(GENERATED_OUTPUT)"
	$(QMK_BIN) painter-convert-graphics -i $(USER_PATH)/lock-caps-ON.png -o $(GENERATED_OUTPUT) -f $(LOCK_IMAGE_FORMAT) --rle

$(GENERATED_OUTPUT)/lock-caps-OFF.h: $(USER_PATH)/Makefile $(USER_PATH)/lock-caps-OFF.png
	@[ -d "$(GENERATED_OUTPUT)" ] || mkdir -p "$(GENERATED_OUTPUT)"
	$(QMK_BIN) painter-convert-graphics -i $(USER_PATH)/lock-caps-OFF.png -o $(GENERATED_OUTPUT) -f $(LOCK_IMAGE_FORMAT) --rle

generated-files: $(GENERATED_OUTPUT)/lock-num-ON.h $(GENERATED_OUTPUT)/lock-num-OFF.h

$(GENERATED_OUTPUT)/lock-num-ON.h: $(USER_PATH)/Makefile $(USER_PATH)/lock-num-ON.png
	@[ -d "$(GENERATED_OUTPUT)" ] || mkdir -p "$(GENERATED_OUTPUT)"
	$(QMK_BIN) painter-convert-graphics -i $(USER_PATH)/lock-num-ON.png -o $(GENERATED_OUTPUT) -f $(LOCK_IMAGE_FORMAT) --rle

$(GENERATED_OUTPUT)/lock-num-OFF.h: $(USER_PATH)/Makefile $(USER_PATH)/lock-num-OFF.png
	@[ -d "$(GENERATED_OUTPUT)" ] || mkdir -p "$(GENERATED_OUTPUT)"
	$(QMK_BIN) painter-convert-graphics -i $(USER_PATH)/lock-num-OFF.png -o $(GENERATED_OUTPUT) -f $(LOCK_IMAGE_FORMAT) --rle

generated-files: $(GENERATED_OUTPUT)/lock-scrl-ON.h $(GENERATED_OUTPUT)/lock-scrl-OFF.h

$(GENERATED_OUTPUT)/lock-scrl-ON.h: $(USER_PATH)/Makefile $(USER_PATH)/lock-scrl-ON.png
	@[ -d "$(GENERATED_OUTPUT)" ] || mkdir -p "$(GENERATED_OUTPUT)"
	$(QMK_BIN) painter-convert-graphics -i $(USER_PATH)/lock-scrl-ON.png -o $(GENERATED_OUTPUT) -f $(LOCK_IMAGE_FORMAT) --rle

$(GENERATED_OUTPUT)/lock-scrl-OFF.h: $(USER_PATH)/Makefile $(USER_PATH)/lock-scrl-OFF.png
	@[ -d "$(GENERATED_OUTPUT)" ] || mkdir -p "$(GENERATED_OUTPUT)"
	$(QMK_BIN) painter-convert-graphics -i $(USER_PATH)/lock-scrl-OFF.png -o $(GENERATED_OUTPUT) -f $(LOCK_IMAGE_FORMAT) --rle

################################################################################################################################################################
# Hyperfuse

generated-files: hyperfuse

hyperfuse: $(GENERATED_OUTPUT)/hf_bg_left.h

$(GENERATED_OUTPUT)/hf_bg_left.h: $(USER_PATH)/Makefile $(USER_PATH)/hf_bg_left.png
	@[ -d "$(GENERATED_OUTPUT)" ] || mkdir -p "$(GENERATED_OUTPUT)"
	$(QMK_BIN) painter-convert-graphics -i $(USER_PATH)/hf_bg_left.png -o $(GENERATED_OUTPUT) -f pal16 --rle

hyperfuse: $(GENERATED_OUTPUT)/hf_bg_right.h

$(GENERATED_OUTPUT)/hf_bg_right.h: $(USER_PATH)/Makefile $(USER_PATH)/hf_bg_right.png
	@[ -d "$(GENERATED_OUTPUT)" ] || mkdir -p "$(GENERATED_OUTPUT)"
	$(QMK_BIN) painter-convert-graphics -i $(USER_PATH)/hf_bg_right.png -o $(GENERATED_OUTPUT) -f pal16 --rle

hyperfuse: $(GENERATED_OUTPUT)/hf_lock_caps_ON.h

$(GENERATED_OUTPUT)/hf_lock_caps_ON.h: $(USER_PATH)/Makefile $(USER_PATH)/hf_lock_caps_ON.png
	@[ -d "$(GENERATED_OUTPUT)" ] || mkdir -p "$(GENERATED_OUTPUT)"
	$(QMK_BIN) painter-convert-graphics -i $(USER_PATH)/hf_lock_caps_ON.png -o $(GENERATED_OUTPUT) -f pal4 --rle

hyperfuse: $(GENERATED_OUTPUT)/hf_lock_num_ON.h

$(GENERATED_OUTPUT)/hf_lock_num_ON.h: $(USER_PATH)/Makefile $(USER_PATH)/hf_lock_num_ON.png
	@[ -d "$(GENERATED_OUTPUT)" ] || mkdir -p "$(GENERATED_OUTPUT)"
	$(QMK_BIN) painter-convert-graphics -i $(USER_PATH)/hf_lock_num_ON.png -o $(GENERATED_OUTPUT) -f pal4 --rle

hyperfuse: $(GENERATED_OUTPUT)/hf_lock_scrl_ON.h

$(GENERATED_OUTPUT)/hf_lock_scrl_ON.h: $(USER_PATH)/Makefile $(USER_PATH)/hf_lock_scrl_ON.png
	@[ -d "$(GENERATED_OUTPUT)" ] || mkdir -p "$(GENERATED_OUTPUT)"
	$(QMK_BIN) painter-convert-graphics -i $(USER_PATH)/hf_lock_scrl_ON.png -o $(GENERATED_OUTPUT) -f pal4 --rle

hyperfuse: $(GENERATED_OUTPUT)/hf_lock_caps_OFF.h

$(GENERATED_OUTPUT)/hf_lock_caps_OFF.h: $(USER_PATH)/Makefile $(USER_PATH)/hf_lock_caps_OFF.png
	@[ -d "$(GENERATED_OUTPUT)" ] || mkdir -p "$(GENERATED_OUTPUT)"
	$(QMK_BIN) painter-convert-graphics -i $(USER_PATH)/hf_lock_caps_OFF.png -o $(GENERATED_OUTPUT) -f pal4 --rle

hyperfuse: $(GENERATED_OUTPUT)/hf_lock_num_OFF.h

$(GENERATED_OUTPUT)/hf_lock_num_OFF.h: $(USER_PATH)/Makefile $(USER_PATH)/hf_lock_num_OFF.png
	@[ -d "$(GENERATED_OUTPUT)" ] || mkdir -p "$(GENERATED_OUTPUT)"
	$(QMK_BIN) painter-convert-graphics -i $(USER_PATH)/hf_lock_num_OFF.png -o $(GENERATED_OUTPUT) -f pal4 --rle

hyperfuse: $(GENERATED_OUTPUT)/hf_lock_scrl_OFF.h

$(GENERATED_OUTPUT)/hf_lock_scrl_OFF.h: $(USER_PATH)/Makefile $(USER_PATH)/hf_lock_scrl_OFF.png
	@[ -d "$(GENERATED_OUTPUT)" ] || mkdir -p "$(GENERATED_OUTPUT)"
	$(QMK_BIN) painter-convert-graphics -i $(USER_PATH)/hf_lock_scrl_OFF.png -o $(GENERATED_OUTPUT) -f pal4 --rle
